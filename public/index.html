<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Coup Online TH</title>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="top-bar">
        <div id="chat-box"></div>
        <div style="display:flex; width:100%;">
            <input type="text" id="chat-in" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡πÅ‡∏ä‡∏ó..." onkeydown="if(event.key==='Enter')sendChat()">
            <button onclick="sendChat()" class="btn-chat">‡∏™‡πà‡∏á</button>
        </div>
    </div>

    <div id="menu-screen" class="screen active">
        <div class="panel">
            <h1>COUP <span class="gold">TH</span></h1>
            <input type="text" id="username" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô">
            <input type="text" id="room-id" placeholder="‡∏£‡∏´‡∏±‡∏™‡∏´‡πâ‡∏≠‡∏á (Room ID)">
            <button class="btn btn-gold" onclick="createRoom()">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á</button>
            <button class="btn btn-gray" onclick="joinRoom()">‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</button>
        </div>
    </div>

    <div id="lobby-screen" class="screen">
        <div class="panel">
            <h2>‡∏´‡πâ‡∏≠‡∏á: <span id="lobby-rid"></span></h2>
            <div id="player-list"></div>
            <div style="margin-top:20px;">
                <button id="ready-btn" class="btn btn-gray" onclick="toggleReady()">‡∏û‡∏£‡πâ‡∏≠‡∏°</button>
                <button id="start-btn" class="btn btn-green hidden" onclick="startGame()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
            </div>
        </div>
    </div>

    <div id="game-screen" class="screen">
        
        <div id="opponents-row"></div>

        <div class="center-area">
            <div id="game-logs"></div>
            
            <div id="reaction-popup" class="hidden">
                <h3 class="gold" id="react-title">Action!</h3>
                <p id="react-desc">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏à‡∏∞...</p>
                <div class="timer-bar"><div id="timer-fill"></div></div>
                <div class="react-btns">
                    <button id="btn-challenge" class="btn btn-red" onclick="sendReact('challenge')">‡∏à‡∏±‡∏ö‡πÇ‡∏Å‡∏´‡∏Å</button>
                    <button id="btn-block" class="btn btn-blue" onclick="sendReact('block')">‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô</button>
                    <button id="btn-contessa" class="btn btn-blue hidden" onclick="sendReact('block_assassin')">‡∏Å‡∏±‡∏ô‡∏î‡πâ‡∏ß‡∏¢ Contessa</button>
                    <button class="btn btn-gray" onclick="hideReaction()">‡∏ú‡πà‡∏≤‡∏ô</button>
                </div>
            </div>
            
            <div id="block-challenge-popup" class="hidden">
                 <h3 class="red">‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô!</h3>
                 <p>‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏à‡∏±‡∏ö‡πÇ‡∏Å‡∏´‡∏Å‡∏Å‡∏≤‡∏£ Block ‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?</p>
                 <button class="btn btn-red" onclick="sendReact('challenge_block')">‡∏à‡∏±‡∏ö‡πÇ‡∏Å‡∏´‡∏Å‡∏Ñ‡∏ô‡∏Å‡∏±‡∏ô</button>
                 <button class="btn btn-gray" onclick="hideBlockReaction()">‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Å‡∏±‡∏ô</button>
            </div>
        </div>

        <div id="dashboard">
            <div class="dash-header">
                <span id="my-name">Me</span>
                <span>üí∞ <span id="my-coins" class="gold">0</span></span>
            </div>
            
            <div style="text-align:center; font-size:10px; color:#aaa; margin-bottom:5px;">(‡πÅ‡∏ï‡∏∞‡∏Å‡∏≤‡∏£‡πå‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ã‡πà‡∏≠‡∏ô/‡πÇ‡∏ä‡∏ß‡πå)</div>
            <div id="my-hand"></div>

            <div id="msg-overlay" class="hidden">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢...</div>

            <div id="actions-grid">
                <button class="act-btn" onclick="doAction('Income')">‡∏´‡∏¢‡∏¥‡∏ö 1 ‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç</button>
                <button class="act-btn" onclick="doAction('Foreign Aid')">‡∏Ç‡∏≠‡πÄ‡∏á‡∏¥‡∏ô (2)</button>
                <button class="act-btn" onclick="doAction('Tax')">‡πÄ‡∏Å‡πá‡∏ö‡∏†‡∏≤‡∏©‡∏µ (3)</button>
                <button class="act-btn" onclick="doAction('Exchange')">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Å‡∏≤‡∏£‡πå‡∏î</button>
                
                <button class="act-btn atk" onclick="selectMode('Steal')">‡∏Ç‡πÇ‡∏°‡∏¢ (2)</button>
                <button class="act-btn atk" onclick="selectMode('Assassinate')">‡∏•‡∏≠‡∏ö‡∏™‡∏±‡∏á‡∏´‡∏≤‡∏£ (3)</button>
                
                <button class="act-btn ult" onclick="selectMode('Coup')">‡∏£‡∏±‡∏ê‡∏õ‡∏£‡∏∞‡∏´‡∏≤‡∏£ (7)</button>
            </div>
        </div>
    </div>

    <div id="card-modal" class="hidden">
        <div class="modal-box">
            <h3 id="modal-title">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡πå‡∏î</h3>
            <div id="modal-cards"></div>
        </div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script src="client.js"></script>
</body>
</html>